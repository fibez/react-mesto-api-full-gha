{"ast":null,"code":"import _slicedToArray from\"C:/Users/1/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,useContext}from'react';import{CurrentUserContext}from'../context/CurrentUserContext';import{PopupWithForm}from'./PopupWithForm';import{Popup}from'./Popup';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PopupProfileEdit(_ref){var isEditProfileOpened=_ref.isEditProfileOpened,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var currentUser=useContext(CurrentUserContext);useEffect(function(){isEditProfileOpened&&setName(currentUser.name);isEditProfileOpened&&setDescription(currentUser.about);},[isEditProfileOpened,currentUser]);function handleSubmit(e){e.preventDefault();var userData={name:name,about:description};onUpdateUser(userData);}function handleNameChange(e){setName(e.target.value);}function handleDescriptionChange(e){setDescription(e.target.value);}return/*#__PURE__*/_jsx(Popup,{isOpened:isEditProfileOpened,onClose:onClose,children:/*#__PURE__*/_jsxs(PopupWithForm,{popupType:\"profile-edit\",name:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",buttonText:'Сохранить',onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{className:\"popup__input popup__input_type_name\",id:\"profile-name\",placeholder:\"\\u041A\\u0430\\u043A \\u0432\\u0430\\u0441 \\u0437\\u043E\\u0432\\u0443\\u0442?\",name:\"profile-input-name\",value:name,required:\"\",minLength:2,maxLength:40,onChange:handleNameChange}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error\",id:\"profile-name-error\"}),/*#__PURE__*/_jsx(\"input\",{className:\"popup__input popup__input_type_profession\",id:\"profile-profession\",placeholder:\"\\u041A\\u0442\\u043E \\u0432\\u044B?\",name:\"profile-input-profession\",value:description,required:\"\",minLength:2,maxLength:200,onChange:handleDescriptionChange}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error\",id:\"profile-profession-error\"})]})});}export{PopupProfileEdit};","map":{"version":3,"names":["useState","useEffect","useContext","CurrentUserContext","PopupWithForm","Popup","jsx","_jsx","jsxs","_jsxs","PopupProfileEdit","_ref","isEditProfileOpened","onClose","onUpdateUser","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","description","setDescription","currentUser","about","handleSubmit","e","preventDefault","userData","handleNameChange","target","value","handleDescriptionChange","isOpened","children","popupType","buttonText","onSubmit","className","id","placeholder","required","minLength","maxLength","onChange"],"sources":["C:/Users/1/dev/react-mesto-auth/src/components/PopupProfileEdit.js"],"sourcesContent":["import { useState, useEffect, useContext } from 'react';\r\nimport { CurrentUserContext } from '../context/CurrentUserContext';\r\nimport { PopupWithForm } from './PopupWithForm';\r\nimport { Popup } from './Popup';\r\n\r\nfunction PopupProfileEdit({ isEditProfileOpened, onClose, onUpdateUser }) {\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  useEffect(() => {\r\n    isEditProfileOpened && setName(currentUser.name);\r\n    isEditProfileOpened && setDescription(currentUser.about);\r\n  }, [isEditProfileOpened, currentUser]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    const userData = {\r\n      name: name,\r\n      about: description,\r\n    };\r\n\r\n    onUpdateUser(userData);\r\n  }\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <Popup isOpened={isEditProfileOpened} onClose={onClose}>\r\n      <PopupWithForm\r\n        popupType=\"profile-edit\"\r\n        name=\"Редактировать профиль\"\r\n        buttonText={'Сохранить'}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <input\r\n          className={`popup__input popup__input_type_name`}\r\n          id=\"profile-name\"\r\n          placeholder=\"Как вас зовут?\"\r\n          name=\"profile-input-name\"\r\n          value={name}\r\n          required=\"\"\r\n          minLength={2}\r\n          maxLength={40}\r\n          onChange={handleNameChange}\r\n        />\r\n        <span className=\"popup__error\" id=\"profile-name-error\" />\r\n        <input\r\n          className=\"popup__input popup__input_type_profession\"\r\n          id=\"profile-profession\"\r\n          placeholder=\"Кто вы?\"\r\n          name=\"profile-input-profession\"\r\n          value={description}\r\n          required=\"\"\r\n          minLength={2}\r\n          maxLength={200}\r\n          onChange={handleDescriptionChange}\r\n        />\r\n        <span className=\"popup__error\" id=\"profile-profession-error\" />\r\n      </PopupWithForm>\r\n    </Popup>\r\n  );\r\n}\r\n\r\nexport { PopupProfileEdit };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}