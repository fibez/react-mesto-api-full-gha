{"ast":null,"code":"import _slicedToArray from\"C:/Users/1/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,useContext}from'react';import{CurrentUserContext}from'../context/CurrentUserContext';import{PopupWithForm}from'./PopupWithForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PopupProfileEdit(_ref){var isOpened=_ref.isOpened,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser;var currentUser=useContext(CurrentUserContext);useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser]);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];function handleSubmit(e){// Запрещаем браузеру переходить по адресу формы\ne.preventDefault();var userData={name:name,about:description};// Передаём значения управляемых компонентов во внешний обработчик\nonUpdateUser(userData);}function handleNameChange(e){setName(e.target.value);}function handleDescriptionChange(e){setDescription(e.target.value);}return/*#__PURE__*/_jsxs(PopupWithForm,{popupType:\"profile-edit\",name:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",isOpened:isOpened,onClose:onClose,buttonText:'Сохранить',onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{className:\"popup__input popup__input_type_name\",id:\"profile-name\",placeholder:\"\\u041A\\u0430\\u043A \\u0432\\u0430\\u0441 \\u0437\\u043E\\u0432\\u0443\\u0442?\",name:\"profile-input-name\",defaultValue:name,required:\"\",minLength:2,maxLength:40,onChange:handleNameChange}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error\",id:\"profile-name-error\"}),/*#__PURE__*/_jsx(\"input\",{className:\"popup__input popup__input_type_profession\",id:\"profile-profession\",placeholder:\"\\u041A\\u0442\\u043E \\u0432\\u044B?\",name:\"profile-input-profession\",defaultValue:description,required:\"\",minLength:2,maxLength:200,onChange:handleDescriptionChange}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error\",id:\"profile-profession-error\"})]});}export{PopupProfileEdit};","map":{"version":3,"names":["useState","useEffect","useContext","CurrentUserContext","PopupWithForm","jsx","_jsx","jsxs","_jsxs","PopupProfileEdit","_ref","isOpened","onClose","onUpdateUser","currentUser","setName","name","setDescription","about","_useState","_useState2","_slicedToArray","_useState3","_useState4","description","handleSubmit","e","preventDefault","userData","handleNameChange","target","value","handleDescriptionChange","popupType","buttonText","onSubmit","children","className","id","placeholder","defaultValue","required","minLength","maxLength","onChange"],"sources":["C:/Users/1/dev/mesto-react/src/components/PopupProfileEdit.js"],"sourcesContent":["import { useState, useEffect, useContext } from 'react';\r\nimport { CurrentUserContext } from '../context/CurrentUserContext';\r\nimport { PopupWithForm } from './PopupWithForm';\r\n\r\nfunction PopupProfileEdit({ isOpened, onClose, onUpdateUser }) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n\r\n  function handleSubmit(e) {\r\n    // Запрещаем браузеру переходить по адресу формы\r\n    e.preventDefault();\r\n\r\n    const userData = {\r\n      name: name,\r\n      about: description,\r\n    };\r\n\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n    onUpdateUser(userData);\r\n  }\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      popupType=\"profile-edit\"\r\n      name=\"Редактировать профиль\"\r\n      isOpened={isOpened}\r\n      onClose={onClose}\r\n      buttonText={'Сохранить'}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        className={`popup__input popup__input_type_name`}\r\n        id=\"profile-name\"\r\n        placeholder=\"Как вас зовут?\"\r\n        name=\"profile-input-name\"\r\n        defaultValue={name}\r\n        required=\"\"\r\n        minLength={2}\r\n        maxLength={40}\r\n        onChange={handleNameChange}\r\n      />\r\n      <span className=\"popup__error\" id=\"profile-name-error\" />\r\n      <input\r\n        className=\"popup__input popup__input_type_profession\"\r\n        id=\"profile-profession\"\r\n        placeholder=\"Кто вы?\"\r\n        name=\"profile-input-profession\"\r\n        defaultValue={description}\r\n        required=\"\"\r\n        minLength={2}\r\n        maxLength={200}\r\n        onChange={handleDescriptionChange}\r\n      />\r\n      <span className=\"popup__error\" id=\"profile-profession-error\" />\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport { PopupProfileEdit };\r\n"],"mappings":"gHAAA,OAASA,QAAQ,CAAEC,SAAS,CAAEC,UAAU,KAAQ,OAAO,CACvD,OAASC,kBAAkB,KAAQ,+BAA+B,CAClE,OAASC,aAAa,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEhD,QAAS,CAAAC,gBAAgBA,CAAAC,IAAA,CAAsC,IAAnC,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAAEC,OAAO,CAAAF,IAAA,CAAPE,OAAO,CAAEC,YAAY,CAAAH,IAAA,CAAZG,YAAY,CACzD,GAAM,CAAAC,WAAW,CAAGZ,UAAU,CAACC,kBAAkB,CAAC,CAElDF,SAAS,CAAC,UAAM,CACdc,OAAO,CAACD,WAAW,CAACE,IAAI,CAAC,CACzBC,cAAc,CAACH,WAAW,CAACI,KAAK,CAAC,CACnC,CAAC,CAAE,CAACJ,WAAW,CAAC,CAAC,CAEjB,IAAAK,SAAA,CAAwBnB,QAAQ,CAAC,EAAE,CAAC,CAAAoB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7BH,IAAI,CAAAI,UAAA,IAAEL,OAAO,CAAAK,UAAA,IACpB,IAAAE,UAAA,CAAsCtB,QAAQ,CAAC,EAAE,CAAC,CAAAuB,UAAA,CAAAF,cAAA,CAAAC,UAAA,IAA3CE,WAAW,CAAAD,UAAA,IAAEN,cAAc,CAAAM,UAAA,IAElC,QAAS,CAAAE,YAAYA,CAACC,CAAC,CAAE,CACvB;AACAA,CAAC,CAACC,cAAc,EAAE,CAElB,GAAM,CAAAC,QAAQ,CAAG,CACfZ,IAAI,CAAEA,IAAI,CACVE,KAAK,CAAEM,WACT,CAAC,CAED;AACAX,YAAY,CAACe,QAAQ,CAAC,CACxB,CAEA,QAAS,CAAAC,gBAAgBA,CAACH,CAAC,CAAE,CAC3BX,OAAO,CAACW,CAAC,CAACI,MAAM,CAACC,KAAK,CAAC,CACzB,CAEA,QAAS,CAAAC,uBAAuBA,CAACN,CAAC,CAAE,CAClCT,cAAc,CAACS,CAAC,CAACI,MAAM,CAACC,KAAK,CAAC,CAChC,CAEA,mBACEvB,KAAA,CAACJ,aAAa,EACZ6B,SAAS,CAAC,cAAc,CACxBjB,IAAI,CAAC,2HAAuB,CAC5BL,QAAQ,CAAEA,QAAS,CACnBC,OAAO,CAAEA,OAAQ,CACjBsB,UAAU,CAAE,WAAY,CACxBC,QAAQ,CAAEV,YAAa,CAAAW,QAAA,eAEvB9B,IAAA,UACE+B,SAAS,sCAAwC,CACjDC,EAAE,CAAC,cAAc,CACjBC,WAAW,CAAC,uEAAgB,CAC5BvB,IAAI,CAAC,oBAAoB,CACzBwB,YAAY,CAAExB,IAAK,CACnByB,QAAQ,CAAC,EAAE,CACXC,SAAS,CAAE,CAAE,CACbC,SAAS,CAAE,EAAG,CACdC,QAAQ,CAAEf,gBAAiB,EAC3B,cACFvB,IAAA,SAAM+B,SAAS,CAAC,cAAc,CAACC,EAAE,CAAC,oBAAoB,EAAG,cACzDhC,IAAA,UACE+B,SAAS,CAAC,2CAA2C,CACrDC,EAAE,CAAC,oBAAoB,CACvBC,WAAW,CAAC,kCAAS,CACrBvB,IAAI,CAAC,0BAA0B,CAC/BwB,YAAY,CAAEhB,WAAY,CAC1BiB,QAAQ,CAAC,EAAE,CACXC,SAAS,CAAE,CAAE,CACbC,SAAS,CAAE,GAAI,CACfC,QAAQ,CAAEZ,uBAAwB,EAClC,cACF1B,IAAA,SAAM+B,SAAS,CAAC,cAAc,CAACC,EAAE,CAAC,0BAA0B,EAAG,GACjD,CAEpB,CAEA,OAAS7B,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}