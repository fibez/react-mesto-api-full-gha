{"ast":null,"code":"import _slicedToArray from\"C:/Users/1/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,useContext}from'react';import{CurrentUserContext}from'../context/CurrentUserContext';import{PopupWithForm}from'./PopupWithForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PopupProfileEdit(_ref){var isOpened=_ref.isOpened,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var currentUser=useContext(CurrentUserContext);useEffect(function(){isOpened&&setName(currentUser.name);isOpened&&setDescription(currentUser.about);},[isOpened,currentUser]);function handleSubmit(e){e.preventDefault();var userData={name:name,about:description};onUpdateUser(userData);}function handleNameChange(e){setName(e.target.value);}function handleDescriptionChange(e){setDescription(e.target.value);}return/*#__PURE__*/_jsxs(PopupWithForm,{popupType:\"profile-edit\",name:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",isOpened:isOpened,onClose:onClose,buttonText:'Сохранить',onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{className:\"popup__input popup__input_type_name\",id:\"profile-name\",placeholder:\"\\u041A\\u0430\\u043A \\u0432\\u0430\\u0441 \\u0437\\u043E\\u0432\\u0443\\u0442?\",name:\"profile-input-name\",value:name,required:\"\",minLength:2,maxLength:40,onChange:handleNameChange}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error\",id:\"profile-name-error\"}),/*#__PURE__*/_jsx(\"input\",{className:\"popup__input popup__input_type_profession\",id:\"profile-profession\",placeholder:\"\\u041A\\u0442\\u043E \\u0432\\u044B?\",name:\"profile-input-profession\",value:description,required:\"\",minLength:2,maxLength:200,onChange:handleDescriptionChange}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error\",id:\"profile-profession-error\"})]});}export{PopupProfileEdit};","map":{"version":3,"names":["useState","useEffect","useContext","CurrentUserContext","PopupWithForm","jsx","_jsx","jsxs","_jsxs","PopupProfileEdit","_ref","isOpened","onClose","onUpdateUser","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","description","setDescription","currentUser","about","handleSubmit","e","preventDefault","userData","handleNameChange","target","value","handleDescriptionChange","popupType","buttonText","onSubmit","children","className","id","placeholder","required","minLength","maxLength","onChange"],"sources":["C:/Users/1/dev/mesto-react/src/components/PopupProfileEdit.js"],"sourcesContent":["import { useState, useEffect, useContext } from 'react';\r\nimport { CurrentUserContext } from '../context/CurrentUserContext';\r\nimport { PopupWithForm } from './PopupWithForm';\r\n\r\nfunction PopupProfileEdit({ isOpened, onClose, onUpdateUser }) {\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  useEffect(() => {\r\n    isOpened && setName(currentUser.name);\r\n    isOpened && setDescription(currentUser.about);\r\n  }, [isOpened, currentUser]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    const userData = {\r\n      name: name,\r\n      about: description,\r\n    };\r\n\r\n    onUpdateUser(userData);\r\n  }\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      popupType=\"profile-edit\"\r\n      name=\"Редактировать профиль\"\r\n      isOpened={isOpened}\r\n      onClose={onClose}\r\n      buttonText={'Сохранить'}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        className={`popup__input popup__input_type_name`}\r\n        id=\"profile-name\"\r\n        placeholder=\"Как вас зовут?\"\r\n        name=\"profile-input-name\"\r\n        value={name}\r\n        required=\"\"\r\n        minLength={2}\r\n        maxLength={40}\r\n        onChange={handleNameChange}\r\n      />\r\n      <span className=\"popup__error\" id=\"profile-name-error\" />\r\n      <input\r\n        className=\"popup__input popup__input_type_profession\"\r\n        id=\"profile-profession\"\r\n        placeholder=\"Кто вы?\"\r\n        name=\"profile-input-profession\"\r\n        value={description}\r\n        required=\"\"\r\n        minLength={2}\r\n        maxLength={200}\r\n        onChange={handleDescriptionChange}\r\n      />\r\n      <span className=\"popup__error\" id=\"profile-profession-error\" />\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport { PopupProfileEdit };\r\n"],"mappings":"gHAAA,OAASA,QAAQ,CAAEC,SAAS,CAAEC,UAAU,KAAQ,OAAO,CACvD,OAASC,kBAAkB,KAAQ,+BAA+B,CAClE,OAASC,aAAa,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEhD,QAAS,CAAAC,gBAAgBA,CAAAC,IAAA,CAAsC,IAAnC,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAAEC,OAAO,CAAAF,IAAA,CAAPE,OAAO,CAAEC,YAAY,CAAAH,IAAA,CAAZG,YAAY,CACzD,IAAAC,SAAA,CAAwBd,QAAQ,CAAC,EAAE,CAAC,CAAAe,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7BG,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IACpB,IAAAI,UAAA,CAAsCnB,QAAQ,CAAC,EAAE,CAAC,CAAAoB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA3CE,WAAW,CAAAD,UAAA,IAAEE,cAAc,CAAAF,UAAA,IAClC,GAAM,CAAAG,WAAW,CAAGrB,UAAU,CAACC,kBAAkB,CAAC,CAElDF,SAAS,CAAC,UAAM,CACdU,QAAQ,EAAIO,OAAO,CAACK,WAAW,CAACN,IAAI,CAAC,CACrCN,QAAQ,EAAIW,cAAc,CAACC,WAAW,CAACC,KAAK,CAAC,CAC/C,CAAC,CAAE,CAACb,QAAQ,CAAEY,WAAW,CAAC,CAAC,CAE3B,QAAS,CAAAE,YAAYA,CAACC,CAAC,CAAE,CACvBA,CAAC,CAACC,cAAc,EAAE,CAElB,GAAM,CAAAC,QAAQ,CAAG,CACfX,IAAI,CAAEA,IAAI,CACVO,KAAK,CAAEH,WACT,CAAC,CAEDR,YAAY,CAACe,QAAQ,CAAC,CACxB,CAEA,QAAS,CAAAC,gBAAgBA,CAACH,CAAC,CAAE,CAC3BR,OAAO,CAACQ,CAAC,CAACI,MAAM,CAACC,KAAK,CAAC,CACzB,CAEA,QAAS,CAAAC,uBAAuBA,CAACN,CAAC,CAAE,CAClCJ,cAAc,CAACI,CAAC,CAACI,MAAM,CAACC,KAAK,CAAC,CAChC,CAEA,mBACEvB,KAAA,CAACJ,aAAa,EACZ6B,SAAS,CAAC,cAAc,CACxBhB,IAAI,CAAC,2HAAuB,CAC5BN,QAAQ,CAAEA,QAAS,CACnBC,OAAO,CAAEA,OAAQ,CACjBsB,UAAU,CAAE,WAAY,CACxBC,QAAQ,CAAEV,YAAa,CAAAW,QAAA,eAEvB9B,IAAA,UACE+B,SAAS,sCAAwC,CACjDC,EAAE,CAAC,cAAc,CACjBC,WAAW,CAAC,uEAAgB,CAC5BtB,IAAI,CAAC,oBAAoB,CACzBc,KAAK,CAAEd,IAAK,CACZuB,QAAQ,CAAC,EAAE,CACXC,SAAS,CAAE,CAAE,CACbC,SAAS,CAAE,EAAG,CACdC,QAAQ,CAAEd,gBAAiB,EAC3B,cACFvB,IAAA,SAAM+B,SAAS,CAAC,cAAc,CAACC,EAAE,CAAC,oBAAoB,EAAG,cACzDhC,IAAA,UACE+B,SAAS,CAAC,2CAA2C,CACrDC,EAAE,CAAC,oBAAoB,CACvBC,WAAW,CAAC,kCAAS,CACrBtB,IAAI,CAAC,0BAA0B,CAC/Bc,KAAK,CAAEV,WAAY,CACnBmB,QAAQ,CAAC,EAAE,CACXC,SAAS,CAAE,CAAE,CACbC,SAAS,CAAE,GAAI,CACfC,QAAQ,CAAEX,uBAAwB,EAClC,cACF1B,IAAA,SAAM+B,SAAS,CAAC,cAAc,CAACC,EAAE,CAAC,0BAA0B,EAAG,GACjD,CAEpB,CAEA,OAAS7B,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}