{"ast":null,"code":"import _classCallCheck from\"C:/Users/1/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/1/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(path,token){_classCallCheck(this,Api);this._basePath=path;this._authToken=token;}_createClass(Api,[{key:\"_request\",value:function _request(path,method,body){return fetch(\"\".concat(this._basePath,\"/\").concat(path),{method:method,headers:{authorization:this._authToken,'Content-Type':'application/json'},body:body}).then(this._checkStatus);}},{key:\"_checkStatus\",value:function _checkStatus(res){if(res.ok){return res.json();}return Promise.reject(\"Error: \".concat(res.status));}},{key:\"getCards\",value:function getCards(){return this._request('cards','GET');}},{key:\"getUserInfo\",value:function getUserInfo(){return this._request('users/me','GET');}},{key:\"getUserId\",value:function getUserId(){Promise(this.getUserInfo()).then(function(res){return res._id;});}},{key:\"updateUserInfo\",value:function updateUserInfo(data){return this._request('users/me','PATCH',JSON.stringify({name:data.name,about:data.about}));}},{key:\"addNewCard\",value:function addNewCard(formValues){return this._request('/cards','POST',JSON.stringify({name:formValues.name,link:formValues.link}));}},{key:\"updateAvatar\",value:function updateAvatar(link){return this._request('users/me/avatar','PATCH',JSON.stringify({avatar:link}));}},{key:\"deleteCard\",value:function deleteCard(cardId){return this._request(\"cards/\".concat(cardId),'DELETE');}},{key:\"updateLike\",value:function updateLike(cardId,method){return this._request(\"cards/\".concat(cardId,\"/likes\"),method);}}]);return Api;}();var api=new Api('https://mesto.nomoreparties.co/v1/cohort-59','3a99dc75-7908-4d48-95a2-7baec3f5e64d');export{api};","map":{"version":3,"names":["Api","path","token","_classCallCheck","_basePath","_authToken","_createClass","key","value","_request","method","body","fetch","concat","headers","authorization","then","_checkStatus","res","ok","json","Promise","reject","status","getCards","getUserInfo","getUserId","_id","updateUserInfo","data","JSON","stringify","name","about","addNewCard","formValues","link","updateAvatar","avatar","deleteCard","cardId","updateLike","api"],"sources":["C:/Users/1/dev/react-mesto-auth/src/utils/api.js"],"sourcesContent":["class Api {\r\n  constructor(path, token) {\r\n    this._basePath = path;\r\n    this._authToken = token;\r\n  }\r\n\r\n  _request(path, method, body) {\r\n    return fetch(`${this._basePath}/${path}`, {\r\n      method: method,\r\n      headers: {\r\n        authorization: this._authToken,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: body,\r\n    }).then(this._checkStatus);\r\n  }\r\n\r\n  _checkStatus(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n\r\n    return Promise.reject(`Error: ${res.status}`);\r\n  }\r\n\r\n  getCards() {\r\n    return this._request('cards', 'GET');\r\n  }\r\n\r\n  getUserInfo() {\r\n    return this._request('users/me', 'GET');\r\n  }\r\n\r\n  getUserId() {\r\n    Promise(this.getUserInfo()).then((res) => {\r\n      return res._id;\r\n    });\r\n  }\r\n\r\n  updateUserInfo(data) {\r\n    return this._request(\r\n      'users/me',\r\n      'PATCH',\r\n      JSON.stringify({\r\n        name: data.name,\r\n        about: data.about,\r\n      })\r\n    );\r\n  }\r\n\r\n  addNewCard(formValues) {\r\n    return this._request(\r\n      '/cards',\r\n      'POST',\r\n      JSON.stringify({\r\n        name: formValues.name,\r\n        link: formValues.link,\r\n      })\r\n    );\r\n  }\r\n\r\n  updateAvatar(link) {\r\n    return this._request(\r\n      'users/me/avatar',\r\n      'PATCH',\r\n      JSON.stringify({\r\n        avatar: link,\r\n      })\r\n    );\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return this._request(`cards/${cardId}`, 'DELETE');\r\n  }\r\n\r\n  updateLike(cardId, method) {\r\n    return this._request(`cards/${cardId}/likes`, method);\r\n  }\r\n}\r\n\r\nconst api = new Api('https://mesto.nomoreparties.co/v1/cohort-59', '3a99dc75-7908-4d48-95a2-7baec3f5e64d');\r\n\r\nexport { api };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}